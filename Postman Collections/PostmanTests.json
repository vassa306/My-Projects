{
	"info": {
		"_postman_id": "eb99a61e-cf5f-40c3-8667-f67f4c6f0718",
		"name": "facebook API",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "Post message to wall",
			"id": "84a8e319-a13e-4878-9d36-aecf9656a152",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "login",
							"value": "evita.lorenc@seznam.cz",
							"type": "text",
							"disabled": true
						},
						{
							"key": "password",
							"value": "Pegy1188",
							"type": "text",
							"disabled": true
						}
					]
				},
				"url": {
					"raw": "https://graph.facebook.com/v14.0/100458682735070/feed?message=Test%20API%2022&access_token={{fbToken}}",
					"protocol": "https",
					"host": [
						"graph",
						"facebook",
						"com"
					],
					"path": [
						"v14.0",
						"100458682735070",
						"feed"
					],
					"query": [
						{
							"key": "message",
							"value": "Test%20API%2022"
						},
						{
							"key": "access_token",
							"value": "{{fbToken}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "POST Change Status",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "a6eb9e47-5025-4191-9cbd-0707bb1d3326",
						"exec": [
							"const jsonData = pm.response.json();\r",
							"let firstMessage;\r",
							"\r",
							"pm.test(\"Is Status code 200 ?\", function () {\r",
							"      pm.response.to.have.status(200);  \r",
							"});\r",
							"\r",
							"var a = [];\r",
							"  \r",
							"var firstPostMsg;\r",
							" \r",
							" for(let message of jsonData.data){\r",
							"\r",
							"     if(message.message != null){\r",
							"        a.push(message.message);\r",
							"     }\r",
							"     if (message.message == \"Test API 22\"){;\r",
							"      firstMessage = message.message;\r",
							"     }\r",
							" }\r",
							"\r",
							" console.log(a);\r",
							" console.log(\"Message is: \" + firstMessage);\r",
							"\r",
							"\r",
							"pm.test(\"Is first post correct ?\", function () {\r",
							"    pm.expect(jsonData.data[0].message).to.eql(firstMessage, \"invalid value\");\r",
							"});\r",
							"\r",
							"pm.test(\"Is field has proper size ?\", function () {\r",
							"   // pm.expect(a).to.be.an('array').that.is.empty;\r",
							"    pm.expect(a).have.lengthOf(3);\r",
							"});\r",
							"\r",
							"\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"id": "770b3190-f1dd-4449-9a87-35488883ea7c",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://graph.facebook.com/v14.0/100458682735070/feed?message=Test%20API%2022&access_token={{fbToken}}",
					"protocol": "https",
					"host": [
						"graph",
						"facebook",
						"com"
					],
					"path": [
						"v14.0",
						"100458682735070",
						"feed"
					],
					"query": [
						{
							"key": "message",
							"value": "Test%20API%2022"
						},
						{
							"key": "access_token",
							"value": "{{fbToken}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET Access Token",
			"id": "2cb9583f-f23d-4fbb-b3fa-179cd3409cfa",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": []
			},
			"response": []
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": {
			"token": "{{fbToken}}"
		}
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "21db5a4e-a6d0-4219-8573-2493ecc690f8",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "ead02936-f171-41f3-9c68-d7457c0856e3",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "0c4ded68-3e8e-4b1a-878d-3b02ce58f7a5",
			"key": "fbToken",
			"value": "EAAEV2tjWoDkBAN4Njo2e0dN4A0Sm3tGx2VAcsdUssZCWGXmD5Do98tDcQ4SOIBwJ3SHef9ZA25BfHUSZAZCxoHEZBuvdn0qO4grSx7ZCiZBuVSZBFDfv1Quj1PiEka3ToVMnMjXsAZBItmg4FH0RxAhB5sZAtz87XBmNyI5P8hCgt3dQCQmBL6pNYo",
			"type": "string"
		}
	]
}